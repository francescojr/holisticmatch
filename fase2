ðŸŽ¯ FASE 2 - Tasks em Ordem LÃ³gica
Criei um plano detalhado e sequencial para implementar validaÃ§Ãµes, cadastro e ediÃ§Ã£o de perfil:

Objetivo: Adicionar validadores de negÃ³cio ao model
Arquivo: backend/professionals/models.py

âœ… Validar CPF (se necessÃ¡rio)
âœ… Validar telefone (formato brasileiro)
âœ… Validar que tem pelo menos 1 serviÃ§o
âœ… Validar preÃ§os (>0)
âœ… Validar foto (tamanho mÃ¡x 5MB, tipos PNG/JPG)

Resultado esperado: Model com validators robustos
Testes: 5+ testes unitÃ¡rios

TASK 1.2: Serializers com ValidaÃ§Ã£o Completa â±ï¸ 1.5h

Objetivo: Criar serializers com validaÃ§Ã£o em camada DRF
Arquivo: backend/professionals/serializers.py

âœ… ProfessionalCreateSerializer (para registro)
âœ… ProfessionalUpdateSerializer (para ediÃ§Ã£o)
âœ… ProfessionalDetailSerializer (para exibiÃ§Ã£o)
âœ… ServiceSerializer nested
âœ… ValidaÃ§Ã£o de email Ãºnico
âœ… ValidaÃ§Ã£o de password (forÃ§a mÃ­nima)

Resultado esperado: Serializers com full validation
Testes: 8+ testes de serializaÃ§Ã£o

TASK 1.3: Endpoints de CRUD Profissional â±ï¸ 1.5h

Objetivo: Implementar viewsets completos
Arquivo: backend/professionals/views.py

âœ… POST /api/professionals/ (criar)
âœ… PATCH /api/professionals/{id}/ (editar parcial)
âœ… PUT /api/professionals/{id}/ (editar completo)
âœ… DELETE /api/professionals/{id}/ (deletar)
âœ… GET /api/professionals/{id}/ (detalhe)
âœ… PermissÃµes (owner sÃ³ pode editar seu prÃ³prio)

Resultado esperado: Viewset completo com permissÃµes
Testes: 10+ testes de API

TASK 1.4: Endpoint de Upload de Foto â±ï¸

Objetivo: Melhorar upload para S3
Arquivo: backend/professionals/views.py (adicionar)

âœ… POST /api/professionals/{id}/upload-photo/
âœ… Validar tipo de arquivo
âœ… Validar tamanho (mÃ¡x 5MB)
âœ… Gerar URL S3 correta
âœ… Retornar URL da foto
âœ… Tratamento de erros

Resultado esperado: Upload robusto e funcional
Testes: 5+ testes de upload

BLOCO 2: FRONTEND - VALIDAÃ‡ÃƒO E FORMS

Objetivo: Criar hook reutilizÃ¡vel para validaÃ§Ã£o
Arquivo: frontend/src/hooks/useFormValidation.ts

âœ… Validar email (formato)
âœ… Validar senha (forÃ§a: min 8 chars, 1 maiÃºscula, 1 nÃºmero)
âœ… Validar telefone (formato brasileiro)
âœ… Validar URL
âœ… Validar que campos obrigatÃ³rios estÃ£o preenchidos
âœ… Retornar erros formatados

Exemplo de uso:
const { errors, validate, isValid } = useFormValidation()

Resultado esperado: Hook reutilizÃ¡vel em todo frontend
Testes: 10+ testes unitÃ¡rios

TASK 2.2: Componente FormInput com ValidaÃ§Ã£o
Objetivo: Componente reutilizÃ¡vel para inputs
Arquivo: frontend/src/components/FormInput.tsx

âœ… Input com label
âœ… Exibir erro inline
âœ… Estado de validaÃ§Ã£o (error, success, loading)
âœ… Ãcone de status (âœ“, âœ—)
âœ… Mensagem de erro elegante
âœ… Suporte a diferentes tipos (text, email, password)

Props esperadas:
- label, type, value, onChange, error, isValidating

Resultado esperado: Componente pronto para reuso
Demo: Aplicado em todos os forms

TASK 2.3: Componente FormTextarea com ValidaÃ§Ã£o â±ï¸ 30min

Objetivo: Textarea reutilizÃ¡vel
Arquivo: frontend/src/components/FormTextarea.tsx

âœ… Textarea com label
âœ… ValidaÃ§Ã£o de min/max length
âœ… Contador de caracteres
âœ… Erro inline
âœ… Auto-resize quando necessÃ¡rio

Props: label, value, onChange, error, maxLength

Resultado esperado: Textarea reusÃ¡vel

TASK 2.4: Toast/NotificaÃ§Ã£o Sistema

Objetivo: Sistema de notificaÃ§Ãµes elegante
Arquivo: frontend/src/components/Toast.tsx
Arquivo: frontend/src/hooks/useToast.ts

âœ… Toast de sucesso/erro/info
âœ… Auto-dismiss apÃ³s 3s
âœ… AnimaÃ§Ã£o suave (Framer Motion)
âœ… Posicionar no canto superior direito
âœ… Stack mÃºltiplas notificaÃ§Ãµes

Uso esperado:
const { toast } = useToast()
toast.success("Perfil atualizado!")

Resultado esperado: Feedback visual completo

BLOCO 3: FRONTEND - INTEGRAÃ‡ÃƒO REGISTER

TASK 3.1: RegisterPage - FormulÃ¡rio Profissional

Objetivo: Integrar RegisterPage com validaÃ§Ã£o
Arquivo: frontend/src/pages/RegisterProfessionalPage.tsx

Campos (Passo 1):
âœ… Nome completo
âœ… Email (validar Ãºnico)
âœ… Telefone
âœ… CPF (opcional)
âœ… Foto de perfil (upload)

ValidaÃ§Ãµes:
âœ… Email format + Ãºnico
âœ… Telefone formato brasileiro
âœ… Foto tamanho max 5MB
âœ… Nome min 3 chars

Estados:
âœ… Loading no botÃ£o "PrÃ³ximo"
âœ… Erro de validaÃ§Ã£o inline
âœ… Sucesso apÃ³s validaÃ§Ã£o

Resultado esperado: Passo 1 funcional
Teste: Submeter com dados vÃ¡lidos/invÃ¡lidos

TASK 3.2: RegisterPage - FormulÃ¡rio ServiÃ§os â±ï¸ 1.5h

Objetivo: Adicionar serviÃ§os e preÃ§os
Arquivo: frontend/src/pages/RegisterProfessionalPage.tsx

Campos (Passo 2):
âœ… Adicionar serviÃ§o (dropdown ou input)
âœ… PreÃ§o do serviÃ§o (number)
âœ… DescriÃ§Ã£o curta (textarea)
âœ… Remover serviÃ§o (trash icon)
âœ… Validar min 1 serviÃ§o

ValidaÃ§Ãµes:
âœ… PreÃ§o > 0
âœ… DescriÃ§Ã£o min 10 chars
âœ… Max 5 serviÃ§os
âœ… NÃ£o pode duplicar serviÃ§o

Estado:
âœ… List de serviÃ§os adicionados
âœ… BotÃ£o "Adicionar ServiÃ§o"
âœ… BotÃ£o "Concluir Cadastro"

Resultado esperado: Passo 2 funcional
Teste: Adicionar/remover serviÃ§os

TASK 3.3: RegisterPage - IntegraÃ§Ã£o com API â±ï¸ 1h

Objetivo: Enviar dados para backend
Arquivo: frontend/src/pages/RegisterProfessionalPage.tsx

âœ… POST /api/professionals/ com todos dados
âœ… Upload foto para S3 antes
âœ… Tratamento de erro (email jÃ¡ existe, etc)
âœ… Loading global durante cadastro
âœ… Toast de sucesso
âœ… Redirecionar para Dashboard
âœ… Armazenar token JWT

Fluxo completo:
1. Validar dados localmente
2. Upload foto S3
3. POST professional com foto_url
4. Salvar token no localStorage
5. Redirecionar para Dashboard

Resultado esperado: Cadastro completo funcional
Teste: Registrar novo profissional end-to-end

BLOCO 4: FRONTEND - INTEGRAÃ‡ÃƒO DASHBOARD (4-5 horas)
TASK 4.1: DashboardPage - Carregamento de Dados â±ï¸ 1h
Objetivo: Buscar dados do profissional logado
Arquivo: frontend/src/pages/DashboardPage.tsx

âœ… GET /api/professionals/{id}/ ao carregar
âœ… Preencher form com dados atuais
âœ… Exibir foto atual
âœ… Loading skeleton enquanto carrega
âœ… Tratamento de erro (404, 401)
âœ… PermissÃ£o: sÃ³ ver prÃ³prios dados

Resultado esperado: Dados carregam corretamente
Teste: Acessar dashboard apÃ³s login

TASK 4.2: DashboardPage - FormulÃ¡rio de EdiÃ§Ã£o 

Objetivo: Editar dados pessoais
Arquivo: frontend/src/pages/DashboardPage.tsx

Campos:
âœ… Nome completo
âœ… Telefone
âœ… Bio profissional (textarea)
âœ… Foto de perfil (preview + upload)
âœ… LocalizaÃ§Ã£o

ValidaÃ§Ãµes:
âœ… Min/max length
âœ… Formato telefone
âœ… Preview da nova foto antes de salvar

Estado:
âœ… Modo view/edit
âœ… BotÃ£o "Editar" â†’ "Salvar"
âœ… BotÃ£o "Cancelar" descarta mudanÃ§as

Resultado esperado: EdiÃ§Ã£o de dados funcional


TASK 4.3: DashboardPage - EdiÃ§Ã£o de ServiÃ§os

Objetivo: Gerenciar serviÃ§os e preÃ§os
Arquivo: frontend/src/pages/DashboardPage.tsx

Funcionalidades:
âœ… Listar serviÃ§os atuais
âœ… Editar preÃ§o inline
âœ… Adicionar novo serviÃ§o
âœ… Remover serviÃ§o (com confirmaÃ§Ã£o)
âœ… Validar min 1 serviÃ§o sempre

Interface:
âœ… Tabela com: ServiÃ§o | PreÃ§o | AÃ§Ãµes
âœ… Input inline para editar preÃ§o
âœ… BotÃ£o "Adicionar ServiÃ§o" (modal)
âœ… ConfirmaÃ§Ã£o antes de deletar

Resultado esperado: CRUD de serviÃ§os funcional
Teste: Adicionar/editar/remover serviÃ§os

TASK 4.4: DashboardPage - Upload de Foto

Objetivo: Permitir trocar foto de perfil
Arquivo: frontend/src/pages/DashboardPage.tsx

âœ… Click na foto â†’ file input
âœ… Preview antes de salvar
âœ… Validar tipo/tamanho
âœ… Upload para S3
âœ… Update profissional com nova URL
âœ… Toast de sucesso
âœ… Loading spinner durante upload

Estados:
âœ… Uploading (spinner)
âœ… Sucesso (toast verde)
âœ… Erro (toast vermelho)

Resultado esperado: Upload de foto funcional
Teste: Trocar foto algumas vezes

TASK 4.5: DashboardPage - Salvar AlteraÃ§Ãµes 

Objetivo: PATCH endpoint para salvar tudo
Arquivo: frontend/src/pages/DashboardPage.tsx

âœ… PATCH /api/professionals/{id}/
âœ… Enviar apenas campos alterados
âœ… Loading global no botÃ£o "Salvar"
âœ… ValidaÃ§Ã£o antes de enviar
âœ… Toast sucesso/erro
âœ… Refresh dados apÃ³s salvar
âœ… Detectar conflitos (ediÃ§Ã£o simultÃ¢nea)

Fluxo:
1. User edita campos
2. Clica "Salvar MudanÃ§as"
3. Validar localmente
4. Mostrar loading
5. PATCH para backend
6. Toast sucesso
7. Refresh formulÃ¡rio

Resultado esperado: Salvar funciona end-to-end

BLOCO 5: TESTES E POLIMENTO (3-4 horas)
TASK 5.1: Testes UnitÃ¡rios Backend â±ï¸ 1.5h

Arquivo: backend/professionals/tests.py

âœ… Validadores (CPF, telefone, preÃ§o)
âœ… Serializers (criaÃ§Ã£o, atualizaÃ§Ã£o)
âœ… Viewsets (permissÃµes, filtros)
âœ… Upload de foto (validaÃ§Ã£o, tamanho)

Meta: 30+ testes, >90% cobertura

Comando:
pytest backend/professionals/tests.py -v --cov

TASK 5.2: Testes IntegraÃ§Ã£o E2E

Objetivo: Testar fluxo completo
Arquivo: frontend/src/__tests__/e2e.test.ts

CenÃ¡rios:
âœ… Registrar novo profissional
âœ… Login
âœ… Editar perfil
âœ… Adicionar serviÃ§o
âœ… Mudar foto
âœ… ValidaÃ§Ã£o de erros

Ferramenta: Vitest + MSW (mock API)

Comando:
npm run test:e2e

TASK 5.3: DocumentaÃ§Ã£o API

Objetivo: Documentar endpoints
Arquivo: backend/README.md ou docs/API.md

âœ… Listar todos endpoints
âœ… ParÃ¢metros esperados
âœ… Respostas exemplo
âœ… CÃ³digos de erro
âœ… AutenticaÃ§Ã£o (JWT)

Formato: Markdown ou OpenAPI/Swagger

TASK 5.4: Ajustes UI/UX Finais

âœ… AnimaÃ§Ãµes nos forms
âœ… Feedback visual de loading
âœ… Mensagens de erro claras
âœ… Estados disabled em botÃµes
âœ… Responsividade mobile
âœ… Acessibilidade (labels, ARIA)

